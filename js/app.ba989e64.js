(function(e){function t(t){for(var s,r,o=t[0],c=t[1],u=t[2],l=0,m=[];l<o.length;l++)r=o[l],i[r]&&m.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(m.length)m.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(s=!1)}s&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},i={app:0},a=[];function r(e){return o.p+"js/"+({about:"about"}[e]||e)+"."+{about:"ec1e39f7"}[e]+".js"}function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.e=function(e){var t=[],n=i[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,s){n=i[e]=[t,s]});t.push(n[2]=s);var a,c=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=r(e),a=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var s=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,r=new Error("Loading chunk "+e+" failed.\n("+s+": "+a+")");r.type=s,r.request=a,n[1](r)}i[e]=void 0}};var l=setTimeout(function(){a({type:"timeout",target:u})},12e4);u.onerror=u.onload=a,c.appendChild(u)}return Promise.all(t)},o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/gitlab-teams/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var d=u;a.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},1646:function(e,t,n){},"20ee":function(e,t,n){"use strict";var s=n("3c15"),i=n.n(s);i.a},"39a6":function(e,t,n){"use strict";var s=n("a5e0"),i=n.n(s);i.a},"3c15":function(e,t,n){},"3cf5":function(e,t,n){"use strict";var s=n("da8f"),i=n.n(s);i.a},"56d7":function(e,t,n){"use strict";n.r(t);var s={};n.r(s),n.d(s,"fetchUsers",function(){return ie}),n.d(s,"fetchUser",function(){return ae}),n.d(s,"fetchProject",function(){return re}),n.d(s,"cleanMergeRequests",function(){return oe}),n.d(s,"merge",function(){return ce}),n.d(s,"closeMergeRequest",function(){return ue}),n.d(s,"addMergeRequest",function(){return le}),n.d(s,"removeMergeRequest",function(){return de}),n.d(s,"updateMergeRequest",function(){return me}),n.d(s,"addTodo",function(){return ve}),n.d(s,"removeTodo",function(){return pe}),n.d(s,"updateTodo",function(){return fe}),n.d(s,"markTodoAsDone",function(){return he}),n.d(s,"markAllTodosAsDone",function(){return ge}),n.d(s,"setTodoSize",function(){return _e}),n.d(s,"addIssue",function(){return be}),n.d(s,"removeIssue",function(){return ke}),n.d(s,"setIssueSize",function(){return ye}),n.d(s,"updatePipeline",function(){return je}),n.d(s,"updateSettings",function(){return qe}),n.d(s,"loadCurrentUser",function(){return Re}),n.d(s,"loadUser",function(){return we}),n.d(s,"loadTeam",function(){return Te}),n.d(s,"createTeam",function(){return Me}),n.d(s,"deleteTeam",function(){return Oe}),n.d(s,"launchWatchers",function(){return Ce}),n.d(s,"launchUserWatchers",function(){return xe}),n.d(s,"cleanAll",function(){return Se}),n.d(s,"showSnackbar",function(){return Ae}),n.d(s,"displaySnackbarMessage",function(){return $e});var i={};n.r(i),n.d(i,"getTeams",function(){return Ie}),n.d(i,"getMergeRequest",function(){return Pe}),n.d(i,"getMergeRequestsForUser",function(){return Ee}),n.d(i,"getPipeline",function(){return Ue}),n.d(i,"getMergeRequests",function(){return ze}),n.d(i,"getProject",function(){return Le}),n.d(i,"getTodos",function(){return De}),n.d(i,"getTodosSize",function(){return Be}),n.d(i,"getIssues",function(){return Fe}),n.d(i,"getIssuesSize",function(){return Ge}),n.d(i,"isConfigured",function(){return Ne});n("cadf"),n("551c"),n("097d"),n("bf40");var a=n("2ead"),r=n.n(a),o=n("ce5b"),c=n.n(o),u=n("0284"),l=n.n(u),d=n("4eb5"),m=n.n(d),v=n("2b0e"),p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("v-app",{attrs:{dark:""}},[n("v-navigation-drawer",{attrs:{fixed:"",clipped:"",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[n("v-list",{attrs:{dense:""}},[e.isConfigured?n("v-list-tile",{on:{click:function(t){e.$router.push({name:"home"})}}},[n("v-list-tile-action",[n("v-icon",[e._v("home")])],1),n("v-list-tile-content",[n("v-list-tile-title",[e._v("\n            Home\n          ")])],1)],1):e._e(),e.isConfigured?n("v-list-tile",{on:{click:function(t){e.$router.push({name:"issues"})}}},[n("v-list-tile-action",[n("v-icon",[e._v("bug_report")])],1),n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"with-badge"},[e._v("\n            Issues\n          ")])],1)],1):e._e(),e.isConfigured?n("v-list-tile",{on:{click:function(t){e.$router.push({name:"todo"})}}},[n("v-list-tile-action",[n("v-icon",[e._v("list")])],1),n("v-list-tile-content",[n("v-list-tile-title",{staticClass:"with-badge"},[n("span",[e._v("Todo")]),n("v-spacer"),e.todosSize?n("v-chip",{attrs:{color:"orange",small:"","text-color":"white"}},[e._v(e._s(e.todosSize))]):e._e()],1)],1)],1):e._e(),n("v-list",[e.isConfigured?n("v-list-tile",{staticClass:"mt-3"},[n("v-list-tile-content",[n("v-list-tile-title",[n("span",{staticClass:"grey--text text--darken-1"},[e._v("TEAMS")])])],1),n("v-list-tile-action",[n("v-btn",{attrs:{icon:"",ripple:""},on:{click:e.createTeam}},[n("v-icon",{attrs:{color:"grey darken-1"}},[e._v("add_circle_outline")])],1)],1)],1):e._e(),e._l(e.teams,function(t){return n("v-list-tile",{key:t.name,attrs:{to:"/team/"+t.name,"active-class":"grey darken-2",avatar:""}},[n("v-list-tile-avatar",[n("v-avatar",{attrs:{size:"36"}},[n("span",{staticClass:"white--text headline"},[e._v(e._s(t.icon||""))])])],1),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{textContent:e._s(t.name)}})],1),n("v-list-tile-action",[n("v-menu",{attrs:{"offset-y":"","min-width":"150"}},[n("v-btn",{attrs:{slot:"activator",icon:"",ripple:""},slot:"activator"},[n("v-icon",{attrs:{color:"grey darken-1"}},[e._v("more_vert")])],1),n("v-list",[n("v-list-tile",{on:{click:function(n){n.preventDefault(),e.deleteTeam(t)}}},[n("v-list-tile-title",[e._v("Delete")])],1)],1)],1)],1)],1)})],2),n("v-list-tile",{on:{click:e.openSettings}},[n("v-list-tile-action",[n("v-icon",{attrs:{color:"grey darken-1"}},[e._v("settings")])],1),n("v-list-tile-title",{staticClass:"grey--text text--darken-1"},[e._v("Settings")])],1),n("v-list-tile",{attrs:{href:"https://github.com/chamerling/gitlab-teams/",target:"_blank"}},[n("v-list-tile-action",[n("v-icon",{attrs:{color:"grey darken-1"}},[e._v("info")])],1),n("v-list-tile-title",{staticClass:"grey--text text--darken-1"},[e._v("About")])],1)],1)],1),n("v-toolbar",{attrs:{dark:"",flat:"",fixed:"",app:"","clipped-left":"",dense:"",color:"orange darken-4"}},[n("v-toolbar-side-icon",{on:{click:function(t){t.stopPropagation(),e.drawer=!e.drawer}}}),n("v-toolbar-title",[e._v("GitLab Teams")]),n("v-spacer"),e.isConfigured&&"settings"===e.$route.name?n("v-btn",{attrs:{icon:""},on:{click:e.goBack}},[n("v-icon",{attrs:{small:""}},[e._v("clear")])],1):e._e()],1),n("v-content",[n("v-container",{staticClass:"pa-0"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view")],1)],1)],1),n("snackbar")],1)],1)},f=[],h=(n("7f7f"),n("be94")),g=n("2ef0"),_=n.n(g),b=n("2f62"),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-snackbar",{attrs:{timeout:e.snackbar.timeout},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[e._v("\n  "+e._s(e.snackbar.message)+"\n  "),n("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){e.snackbar.show=!1}}},[e._v("Close")])],1)},y=[],j={name:"Snackbar",computed:Object(h["a"])({show:{get:function(){return this.$store.state.snackbar.show},set:function(e){this.$store.dispatch("showSnackbar",e)}}},Object(b["c"])(["snackbar"]))},q=j,R=n("2877"),w=Object(R["a"])(q,k,y,!1,null,null,null);w.options.__file="Snackbar.vue";var T=w.exports,M={data:function(){return{drawer:null}},methods:{openSettings:function(){this.$router.push({name:"settings"})},createTeam:function(){this.$router.push({name:"create-team"})},deleteTeam:function(e){this.$store.dispatch("deleteTeam",e),this.$router.push({name:"home"})},goBack:function(){this.$router.go(-1)}},computed:Object(h["a"])({isConfigured:function(){return this.$store.getters.isConfigured},teams:function(){return _.a.orderBy(this.$store.getters.getTeams,[function(e){return e.name.toLowerCase()}],"asc")}},Object(b["b"])({todosSize:"getTodosSize"})),mounted:function(){this.isConfigured?this.$store.dispatch("launchUserWatchers"):this.openSettings()},components:{snackbar:T}},O=M,C=(n("e9e5"),Object(R["a"])(O,p,f,!1,null,"3bcf99e6",null));C.options.__file="App.vue";var x=C.exports,S=n("8c4f"),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("v-tabs",{attrs:{dark:"","slider-color":"orange"},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("v-tab",{key:"open",on:{click:function(t){e.$router.push({name:"home"})}}},[e._v("\n      Open\n    ")]),n("v-tab",{key:"merged",attrs:{to:"/mrs/merged"}},[e._v("\n      Merged\n    ")]),n("v-tab",{key:"closed",attrs:{to:"/mrs/closed"}},[e._v("\n      Closed\n    ")]),n("v-tab-item",[n("router-view")],1),n("v-tab-item",{attrs:{value:"/mrs/merged"}},[n("router-view")],1),n("v-tab-item",{attrs:{value:"/mrs/closed"}},[n("router-view")],1)],1)],1)},$=[],I=(n("6762"),n("2fdb"),n("ac6a"),n("5df3"),n("f400"),n("d4ec")),P=n("bee2"),E=n("99de"),U=n("7e84"),z=n("262e"),L=n("bc3a"),D=n.n(L),B=function(){function e(t,n){Object(I["a"])(this,e),this.baseURL=t,this.client=this._createClient(t,n)}return Object(P["a"])(e,[{key:"_createClient",value:function(e,t){return D.a.create({baseURL:e,headers:{"Private-Token":t}})}},{key:"fetchUsers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Promise.all(t.map(function(t){return e.fetchUser(t)}))}},{key:"fetchUser",value:function(e){return this.client.get("/api/v4/users?username=".concat(e)).then(function(e){return e.data[0]})}},{key:"searchUsers",value:function(e){return this.client.get("/api/v4/users?search=".concat(e))}},{key:"getAvatarUrl",value:function(e){return this.client.get("/api/v4/avatar?email=".concat(e)).then(function(e){return e.data})}},{key:"fetchMergeRequests",value:function(e){var t=e.state,n=void 0===t?"opened":t,s=e.author_id,i="/api/v4/merge_requests?state=".concat(n);return s&&(i="".concat(i,"&scope=all&author_id=").concat(s)),this.client.get(i)}},{key:"fetchMergeRequest",value:function(e,t){return this.client.get("/api/v4/projects/".concat(e,"/merge_requests/").concat(t))}},{key:"merge",value:function(e){var t=e.project_id,n=e.iid;return this.client.put("/api/v4/projects/".concat(t,"/merge_requests/").concat(n,"/merge"))}},{key:"closeMergeRequest",value:function(e){var t=e.project_id,n=e.iid;return this.client.put("/api/v4/projects/".concat(t,"/merge_requests/").concat(n),{state_event:"close"})}},{key:"getCommitsForMergeRequest",value:function(e){var t=e.project_id,n=e.iid;return this.client.get("/api/v4/projects/".concat(t,"/merge_requests/").concat(n,"/commits")).then(function(e){return e.data})}},{key:"getCommit",value:function(e){var t=e.project_id,n=e.sha;return this.client.get("/api/v4/projects/".concat(t,"/repository/commits/").concat(n)).then(function(e){return e.data})}},{key:"fetchPipelines",value:function(e,t){return this.client.get("/api/v4/projects/".concat(e,"/pipelines?ref=").concat(t))}},{key:"fetchPipeline",value:function(e,t){return this.client.get("/api/v4/projects/".concat(e,"/pipelines/").concat(t))}},{key:"fetchLastPipeline",value:function(e,t){var n=this;return this.fetchPipelines(e,t).then(function(t){return t.data&&t.data.length?n.fetchPipeline(e,t.data[0].id):{}})}},{key:"getCurrentUser",value:function(){return this.client.get("/api/v4/user")}},{key:"fetchProject",value:function(e){return this.client.get("/api/v4/projects/".concat(e)).then(function(e){return e.data})}},{key:"fetchTodos",value:function(){return this.client.get("/api/v4/todos")}},{key:"fetchIssues",value:function(){return this.client.get("/api/v4/issues")}},{key:"markTodoAsDone",value:function(e){return this.client.post("/api/v4/todos/".concat(e.id,"/mark_as_done"))}},{key:"markAllTodosAsDone",value:function(){return this.client.post("/api/v4/todos/mark_as_done")}}]),e}(),F=n("808d"),G=n("d3fb"),N=n("d792"),J=n("1585"),W=n("a6c5"),H=n("a2ef"),Y=n("4b59"),Z=n("ebb6"),V=n("ba10"),K=n.n(V),Q=function(e){function t(e){var n;return Object(I["a"])(this,t),n=Object(E["a"])(this,Object(U["a"])(t).call(this)),n.options=e,n.subscriptions=new Map,n.userSubscriptions=[],n.pollingInterval=e.pollingInterval||5e3,n.client=new B(e.apiEndpoint,e.apiToken),n}return Object(z["a"])(t,e),Object(P["a"])(t,[{key:"watchMergeRequestsForUsers",value:function(e){var t=this,n=e.userIds;n.forEach(function(e){return t.watchMergeRequests({userId:e})})}},{key:"watchMergeRequests",value:function(e){var t=this,n=e.userId,s=Object(F["a"])(0,this.pollingInterval).pipe(Object(N["a"])(function(){return Object(G["a"])(t.client.fetchMergeRequests({state:"opened",author_id:n}))}),Object(J["a"])("data")),i=s.pipe(Object(W["a"])(function(e){return e}),Object(H["a"])(function(e){return e.id})),a=i.subscribe(function(e){var n;t.emit("new-merge-request",e),t.subscriptions.set(e.id,[]);var s=t.watchPipeline(e).subscribe(function(n){n&&t.emit("updated-pipeline",{mergeRequest:e,pipeline:n})}),i=t.watchMergeRequest(e).subscribe(function(n){t.emit("updated-merge-request",n),["merged","closed"].includes(n.state)&&(t.emit("merged-merge-request",n),t.subscriptions.get(e.id).forEach(function(e){return e.unsubscribe()}),t.subscriptions.delete(e.id))});(n=t.subscriptions.get(e.id)).push.apply(n,[s,i,a])})}},{key:"unwatchMergeRequests",value:function(){var e=this;this.subscriptions&&this.subscriptions.forEach(function(t,n){t.forEach(function(e){return e.unsubscribe()}),e.subscriptions.delete(n)})}},{key:"watchMergeRequest",value:function(e){var t=this,n=e.project_id,s=e.iid;return Object(F["a"])(0,this.pollingInterval).pipe(Object(N["a"])(function(){return Object(G["a"])(t.client.fetchMergeRequest(n,s))}),Object(J["a"])("data"))}},{key:"watchPipeline",value:function(e){var t=this;return Object(F["a"])(0,this.pollingInterval).pipe(Object(N["a"])(function(){return Object(G["a"])(t.client.fetchLastPipeline(e.source_project_id,e.source_branch))}),Object(J["a"])("data"))}},{key:"watchTodos",value:function(){var e=this,t=Object(F["a"])(0,this.pollingInterval).pipe(Object(N["a"])(function(){return Object(G["a"])(e.client.fetchTodos())})),n=t.pipe(Object(Y["a"])()),s=n.pipe(Object(J["a"])("data"),Object(W["a"])(function(e){return e}),Object(H["a"])(function(e){return e.id})),i=n.pipe(Object(J["a"])("headers"),Object(Z["a"])(function(e){return e["x-total"]})),a=s.subscribe(function(t){e.emit("new-todo",t)}),r=i.subscribe(function(t){e.emit("todo-length",t)});this.userSubscriptions.push(a),this.userSubscriptions.push(r)}},{key:"watchIssues",value:function(){var e=this,t=Object(F["a"])(0,2*this.pollingInterval).pipe(Object(N["a"])(function(){return Object(G["a"])(e.client.fetchIssues())})),n=t.pipe(Object(Y["a"])()),s=n.pipe(Object(J["a"])("data"),Object(W["a"])(function(e){return e}),Object(H["a"])(function(e){return e.id})),i=n.pipe(Object(J["a"])("headers"),Object(Z["a"])(function(e){return e["x-total"]})),a=s.subscribe(function(t){e.emit("new-issue",t)}),r=i.subscribe(function(t){e.emit("issue-length",t)});this.userSubscriptions.push(a),this.userSubscriptions.push(r)}},{key:"unwatchUser",value:function(){this.userSubscriptions.forEach(function(e){return e.unsubscribe()}),this.userSubscriptions=[]}}]),t}(K.a),X={Api:Q,Client:B},ee=null;function te(e){ee=new X.Api({apiEndpoint:e.state.apiEndpoint,apiToken:e.state.apiToken}),ee.on("new-merge-request",function(t){e.dispatch("fetchProject",t.project_id).then(function(){e.dispatch("addMergeRequest",t)})}),ee.on("updated-pipeline",function(t){var n=t.mergeRequest,s=t.pipeline;e.dispatch("updatePipeline",{mergeRequest:n,pipeline:s})}),ee.on("updated-merge-request",function(t){e.dispatch("updateMergeRequest",t)}),ee.on("merged-merge-request",function(t){e.dispatch("removeMergeRequest",t)}),ee.on("new-todo",function(t){e.dispatch("addTodo",t)}),ee.on("todo-length",function(t){e.dispatch("setTodoSize",t)}),ee.on("new-issue",function(t){e.dispatch("fetchProject",t.project_id).then(function(){e.dispatch("addIssue",t)})}),ee.on("issue-length",function(t){e.dispatch("setIssueSize",t)})}function ne(){return ee}var se={get:ne,init:te},ie=function(e){var t=e.state,n=e.commit;return se.get().client.fetchUsers(t.team.usernames).then(function(e){n("setUsers",e)})},ae=function(e,t){var n=e.commit;return se.get().client.fetchUser(t).then(function(e){n("setCurrentUser",e)})},re=function(e,t){var n=e.commit,s=e.state;return s.projects[t]?Promise.resolve(s.projects[t]):se.get().client.fetchProject(t).then(function(e){return n("addProject",e),e})},oe=function(e){var t=e.commit,n=se.get();n.unwatchMergeRequests(),t("setMergeRequests",{}),t("setPipelines",{})},ce=function(e,t){var n=e.dispatch,s=se.get();return s.client.merge(t).then(function(){n("removeMergeRequest",t)})},ue=function(e,t){var n=e.dispatch,s=se.get();return s.client.closeMergeRequest(t).then(function(){n("removeMergeRequest",t)})},le=function(e,t){var n=e.commit;n("addMergeRequest",t)},de=function(e,t){var n=e.commit;n("removeMergeRequest",t)},me=function(e,t){var n=e.commit;n("updateMergeRequest",t)},ve=function(e,t){var n=e.commit;n("addTodo",t)},pe=function(e,t){var n=e.commit;n("removeTodo",t)},fe=function(e,t){var n=e.commit;n("updateTodo",t)},he=function(e,t){var n=e.dispatch,s=e.state,i=se.get();return i.client.markTodoAsDone(t).then(function(){n("removeTodo",t),n("setTodoSize",--s.todoSize)})},ge=function(e){var t=e.commit,n=e.dispatch,s=se.get();return s.client.markAllTodosAsDone().then(function(){n("setTodoSize",0),t("setTodos",{})})},_e=function(e,t){var n=e.commit;n("setTodoSize",t)},be=function(e,t){var n=e.commit;n("addIssue",t)},ke=function(e,t){var n=e.commit;n("removeIssue",t)},ye=function(e,t){var n=e.commit;n("setIssueSize",t)},je=function(e,t){var n=e.commit,s=t.mergeRequest,i=t.pipeline;n("updatePipeline",{mergeRequest:s,pipeline:i})},qe=function(e,t){var n=e.commit,s=e.dispatch;n("updateSettings",t),n("resetTeams"),n("setMergeRequests",{}),n("setPipelines",{}),n("setProjects",{}),n("setTodos",{}),s("launchWatchers"),s("launchUserWatchers")},Re=function(e){var t=e.dispatch,n=se.get();t("cleanMergeRequests"),n.watchMergeRequests({})},we=function(e,t){var n=e.dispatch,s=e.state,i=se.get();n("cleanMergeRequests"),n("fetchUser",t).then(function(){i.watchMergeRequestsForUsers({userIds:[s.currentUser.id]})})},Te=function(e,t){var n=e.commit,s=e.dispatch;s("cleanMergeRequests"),n("setCurrentTeam",t),s("launchWatchers")},Me=function(e,t){var n=e.commit;n("addTeam",t)},Oe=function(e,t){var n=e.state,s=e.commit,i=e.dispatch;n.team&&n.team.name===t.name&&i("cleanMergeRequests"),s("removeTeam",t)},Ce=function(e){var t=e.dispatch,n=e.state,s=se.get();t("fetchUsers").then(function(){s.watchMergeRequestsForUsers({userIds:n.team.users.map(function(e){return e.id})})})},xe=function(){var e=se.get();e.watchTodos(),e.watchIssues()},Se=function(e){var t=e.dispatch;t("updateSettings",{apiEndpoint:void 0,apiToken:void 0})},Ae=function(e,t){var n=e.commit;n("showSnackbar",t)},$e=function(e,t){var n=e.commit;n("displaySnackbarMessage",t)},Ie=(n("8615"),function(e){return e.teams}),Pe=function(e,t){var n=e.mergeRequests;return n[t]},Ee=function(e){var t=e.mergeRequests;return function(e){return Object.values(t).filter(function(t){return t.author.username===e})}},Ue=function(e){var t=e.pipelines;return function(e){return t[e]}},ze=function(e){var t=e.mergeRequests;return Object.values(t)},Le=function(e){var t=e.projects;return function(e){return t[e]}},De=function(e){var t=e.todos;return _.a.orderBy(Object.values(t),"created_at","desc")},Be=function(e){var t=e.todoSize,n=e.todos;return t||(Object.values(n)||[]).length},Fe=function(e){var t=e.issues;return _.a.orderBy(Object.values(t),"created_at","desc")},Ge=function(e){var t=e.issueSize,n=e.issues;return t||(Object.values(n)||[]).length},Ne=function(e){return!!e.apiToken},Je={snackbar:{color:"red",message:null,timeout:3e3,show:!1},apiEndpoint:localStorage.getItem("apiEndpoint")||"https://gitlab.com",apiToken:localStorage.getItem("apiToken"),mergeRequests:{},pipelines:{},teams:JSON.parse(localStorage.getItem("teams")||"[]"),team:{},projects:{},todos:{},todoSize:0,issues:{},issueSize:0,currentUser:null},We=(n("b054"),[]),He=(n("20d6"),n("7514"),{addTodo:function(e,t){var n=e.todos;v["default"].set(n,t.id,t)},removeTodo:function(e,t){var n=e.todos;v["default"].delete(n,t.id)},setTodoSize:function(e,t){e.todoSize=parseInt(t)},addProject:function(e,t){var n=e.projects;v["default"].set(n,t.id,t)},setTodos:function(e,t){e.todos=t},setProjects:function(e,t){e.projects=t},addMergeRequest:function(e,t){var n=e.mergeRequests;v["default"].set(n,t.id,t)},removeMergeRequest:function(e,t){var n=e.mergeRequests;v["default"].delete(n,t.id)},setMergeRequests:function(e,t){e.mergeRequests=t},resetMergeRequests:function(e){e.mergeRequests={}},updateMergeRequest:function(e,t){var n=e.mergeRequests;v["default"].set(n,t.id,t)},setCurrentTeam:function(e,t){var n=_.a.find(e.teams,{name:t});e.team=n},addTeam:function(e,t){e.teams.push(t),localStorage.setItem("teams",JSON.stringify(e.teams))},removeTeam:function(e,t){var n=e.teams.findIndex(function(e){return e.name===t.name});n>-1&&e.teams.splice(n,1),localStorage.setItem("teams",JSON.stringify(e.teams))},resetTeams:function(e){localStorage.setItem("teams",JSON.stringify([])),e.teams=[],e.team={}},updatePipeline:function(e,t){var n=e.pipelines,s=t.mergeRequest,i=t.pipeline;v["default"].set(n,s.id,i)},removePipeline:function(e,t){var n=e.pipelines,s=t.mergeRequest;v["default"].delete(n,s.id)},setPipelines:function(e,t){e.pipelines=t},updateSettings:function(e,t){e.apiEndpoint=t.apiEndpoint,e.apiToken=t.apiToken,localStorage.setItem("apiEndpoint",e.apiEndpoint||""),localStorage.setItem("apiToken",e.apiToken||""),se.get().unwatchUser(),se.get().unwatchMergeRequests(),se.init(this)},setUsers:function(e,t){e.team.users=t},setCurrentUser:function(e,t){e.currentUser=t},addIssue:function(e,t){var n=e.issues;v["default"].set(n,t.id,t)},removeIssue:function(e,t){var n=e.issues;v["default"].delete(n,t.id)},setIssues:function(e,t){e.issues=t},setIssueSize:function(e,t){e.issueSize=parseInt(t)},showSnackbar:function(e,t){e.snackbar.show=t},displaySnackbarMessage:function(e,t){e.snackbar.message=t,e.snackbar.show=!0}});v["default"].use(b["a"]);var Ye=new b["a"].Store({state:Je,actions:s,getters:i,mutations:He,plugins:We,strict:!1}),Ze={name:"home",data:function(){return{activeTab:null}},beforeRouteEnter:function(e,t,n){Ye.dispatch("loadCurrentUser"),n()},beforeRouteUpdate:function(e,t,n){Ye.dispatch("loadCurrentUser"),n()}},Ve=Ze,Ke=Object(R["a"])(Ve,A,$,!1,null,null,null);Ke.options.__file="Home.vue";var Qe=Ke.exports,Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pa-3"},[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:""}},[n("v-toolbar-title",{staticClass:"white--text"},[e._v("GitLab API Configuration")])],1),n("v-card-text",[n("div",{staticClass:"body-1 mb-3"},[e._v("\n              You must define the 'Personal Access Token' (with "),n("b",[e._v("api")]),e._v(" scope) and the 'GitLab URL' you want to use. More information on how to set this is available "),n("a",{attrs:{href:"https://docs.gitlab.com/ee/user/profile/personal_access_tokens.html",target:"_blank"}},[e._v("on the GitLab documentation")]),e._v(".\n              Nothing is sent to any other server than the one you define here.\n              Everything is stored locally, right in your browser.\n            ")]),n("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{label:"Personal Access Token",rules:e.tokenRules,required:""},model:{value:e.apiToken,callback:function(t){e.apiToken=t},expression:"apiToken"}}),n("v-text-field",{attrs:{label:"GitLab URL",rules:e.urlRules,required:""},model:{value:e.apiEndpoint,callback:function(t){e.apiEndpoint=t},expression:"apiEndpoint"}})],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{disabled:!e.valid},on:{click:e.submit}},[e._v("\n              Go!\n            ")])],1)],1),e.isConfigured?n("v-card",{staticClass:"elevation-12 mt-5"},[n("v-toolbar",{attrs:{dark:""}},[n("v-toolbar-title",{staticClass:"white--text"},[e._v("Clean data")])],1),n("v-card-text",[n("div",{staticClass:"body-1 mb-3"},[e._v("\n              Everything which has been stored locally in this browser will be deleted.\n              You will have to configure everything again in this case.\n            ")])]),n("v-card-actions",[n("v-spacer"),n("v-btn",{on:{click:e.cleanAll}},[e._v("\n              Clean\n            ")])],1)],1):e._e()],1)],1)],1)],1)},et=[],tt={name:"settings",data:function(){return{valid:!1,tokenRules:[function(e){return!!e||"Token is required"}],urlRules:[function(e){return!!e||"URL is required"},function(e){return/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/.test(e)||"URL is not valid"}],localApiToken:null,localApiEndpoint:null}},computed:{isConfigured:function(){return this.$store.getters.isConfigured},apiToken:{get:function(){return this.$store.state.apiToken},set:function(e){this.localApiToken=e}},apiEndpoint:{get:function(){return this.$store.state.apiEndpoint},set:function(e){this.localApiEndpoint=e}}},mounted:function(){this.localApiToken=this.$store.state.apiToken,this.localApiEndpoint=this.$store.state.apiEndpoint},methods:{submit:function(){this.$refs.form.validate()&&(this.$store.dispatch("updateSettings",{apiToken:this.localApiToken,apiEndpoint:this.localApiEndpoint}),this.$router.push("/"))},cleanAll:function(){this.$store.dispatch("cleanAll"),this.localApiToken=this.$store.state.apiToken,this.localApiEndpoint=this.$store.state.apiEndpoint}},components:{}},nt=tt,st=Object(R["a"])(nt,Xe,et,!1,null,null,null);st.options.__file="Settings.vue";var it=st.exports,at=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("v-layout",{attrs:{"align-center":"","justify-end":"",row:"","fill-height":"","ma-2":""}},e._l(e.team.users,function(t){return n("div",{key:t.id,staticClass:"ma-1",attrs:{id:"user"},on:{click:function(n){e.$router.push({name:"user",params:{name:t.username}})}}},[n("v-badge",{attrs:{overlap:""}},[n("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.userMergeRequests(t.username).length))]),n("user-avatar",{attrs:{user:t}})],1)],1)})),e.mergeRequests.length?n("merge-requests",{attrs:{"merge-requests":e.mergeRequests}}):e._e()],1)},rt=[],ot=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list",{attrs:{"two-line":"",dark:""}},e._l(e.orderedMergeRequests,function(t){return n("div",{key:t.id},[n("merge-request-item",{attrs:{mr:t,pipeline:e.getPipeline(t)}})],1)}))},ct=[],ut=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list-tile",{attrs:{avatar:"",href:e.mr.web_url,target:"_blank"}},[n("v-list-tile-avatar",{on:{click:function(t){t.preventDefault(),e.$router.push({name:"user",params:{name:e.mr.author.username}})}}},[n("user-avatar",{attrs:{user:e.mr.author}})],1),n("v-list-tile-content",[n("v-list-tile-title",{attrs:{id:"title"}},[e.pipeline?n("pipeline",{attrs:{pipeline:e.pipeline}}):e._e(),n("span",[e._v(e._s(e.mr.title))])],1),n("v-list-tile-sub-title",[e._v("\n      Created "+e._s(e._f("moment")(e.mr.created_at,"calendar"))+" - Updated "+e._s(e._f("moment")(e.mr.updated_at,"calendar"))+"\n    ")]),n("v-list-tile-sub-title",[n("div",{attrs:{id:"subtitle"}},[e._v("\n        "+e._s(e.getProject(e.mr.project_id).name)+"!"+e._s(e.mr.iid)+" - "+e._s(e.mr.source_branch)+" into "+e._s(e.mr.target_branch)+"\n        "),e.mr.assignee?n("div",{staticClass:"ml-1"},[n("v-tooltip",{attrs:{bottom:""}},[n("v-avatar",{attrs:{slot:"activator",size:"16"},slot:"activator"},[n("img",{attrs:{src:e.mr.assignee.avatar_url,alt:e.mr.assignee.username}})]),n("span",[e._v("Assigned to "+e._s(e.mr.assignee.name))])],1)],1):e._e(),e._l(e.mr.labels,function(t){return n("v-tooltip",{key:t,attrs:{bottom:""}},[n("v-chip",{attrs:{slot:"activator",color:"orange",small:"","text-color":"white"},slot:"activator"},[e._v(e._s(t))]),n("span",[e._v("Label")])],1)})],2)])],1),n("v-list-tile-action",[n("div",{attrs:{id:"actions"}},[n("v-badge",{staticClass:"pr-2",attrs:{overlap:"",left:""}},[n("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.mr.user_notes_count))]),n("v-icon",[e._v("chat")])],1),n("v-badge",{staticClass:"pr-2",attrs:{overlap:"",left:""}},[n("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.mr.upvotes))]),n("v-icon",[e._v("thumb_up")])],1),n("v-tooltip",{attrs:{bottom:""}},[n("v-btn",{staticClass:"mr-3",attrs:{slot:"activator",outline:"",fab:"",small:"",disabled:e.merging||e.closing||e.mr.work_in_progress||"can_be_merged"!==e.mr.merge_status||"opened"!==e.mr.state,loading:e.merging},on:{click:function(t){t.preventDefault(),e.merge()}},slot:"activator"},[n("v-icon",[e._v("merge_type")])],1),n("span",[e._v("Merge it")])],1),n("v-menu",{attrs:{"offset-y":"","min-width":"150"}},[n("v-btn",{attrs:{slot:"activator",icon:"",ripple:""},nativeOn:{click:function(e){e.preventDefault()}},slot:"activator"},[n("v-icon",{attrs:{color:"grey darken-1"}},[e._v("more_vert")])],1),n("v-list",[n("v-list-tile",{attrs:{href:e.mr.web_url,target:"_blank"}},[n("v-list-tile-title",[e._v("View on GitLab")])],1),e.canBeClosed?n("v-list-tile",{on:{click:function(t){e.close()}}},[n("v-list-tile-title",[e._v("Close MR")])],1):e._e(),n("v-list-tile",{on:{click:function(t){e.copyLink()}}},[n("v-list-tile-title",[e._v("Copy link")])],1),n("v-list-tile",{on:{click:function(t){e.showMore=!0}}},[n("v-list-tile-title",[e._v("Show more...")]),n("v-dialog",{attrs:{"max-width":"800px",lazy:""},model:{value:e.showMore,callback:function(t){e.showMore=t},expression:"showMore"}},[n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("h3",[e._v(e._s(e.mr.title))])]),n("v-card-text",[n("merge-request-details",{attrs:{mr:e.mr}})],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.showMore=!1}}},[e._v("Close")])],1)],1)],1)],1)],1)],1)],1)])],1)},lt=[],dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"open-on-hover":"","close-on-content-click":!1,"nudge-width":200,"offset-y":"",bottom:""},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-avatar",{attrs:{slot:"activator",size:"48"},slot:"activator"},[n("img",{attrs:{src:e.user.avatar_url,alt:e.user.username}})]),n("v-card",[n("v-list",[n("v-list-tile",{attrs:{avatar:""}},[n("v-list-tile-avatar",[n("img",{attrs:{src:e.user.avatar_url}})]),n("v-list-tile-content",[n("v-list-tile-title",[e._v(e._s(e.user.name))]),n("v-list-tile-sub-title",[e._v("@"+e._s(e.user.username))])],1),n("v-list-tile-action")],1)],1)],1)],1)},mt=[],vt={name:"user-avatar-popover",props:{user:Object},data:function(){return{menu:!1}},mounted:function(){}},pt=vt,ft=Object(R["a"])(pt,dt,mt,!1,null,null,null);ft.options.__file="UserAvatarPopover.vue";var ht=ft.exports,gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-menu",{attrs:{"open-on-hover":"","close-on-content-click":!1,"nudge-width":200,"offset-y":"",bottom:""},model:{value:e.menu,callback:function(t){e.menu=t},expression:"menu"}},[n("v-icon",{attrs:{slot:"activator",color:e.getPipelineColor()},nativeOn:{click:function(e){e.preventDefault()}},slot:"activator"},[e._v(e._s(e.getPipelineIcon()))]),n("v-card",[n("v-card-text",[n("span",[e._v("Pipeline "+e._s(e.pipeline.status)+" - ")]),"running"===e.pipeline.status?n("span",[e._v("Started "+e._s(e._f("moment")(e.pipeline.updated_at,"calendar")))]):n("span",[e._v("Finished "+e._s(e._f("moment")(e.pipeline.finished_at,"calendar")))])])],1)],1)},_t=[],bt={name:"pipeline-popover",props:{pipeline:Object},methods:{getPipelineColor:function(){var e={pending:"warning",failed:"error",success:"success",running:"primary",canceled:"black"};return e[this.pipeline.status]||"primary"},getPipelineIcon:function(){var e={pending:"pause_circle_outline",failed:"error_outline",success:"check_circle_outline",running:"timelapse",canceled:"highlight_off"};return e[this.pipeline.status]||"help"}},data:function(){return{menu:!1}}},kt=bt,yt=Object(R["a"])(kt,gt,_t,!1,null,null,null);yt.options.__file="PipelinePopover.vue";var jt=yt.exports,qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loaded?[n("v-list",e._l(e.commits,function(t){return n("v-list-tile",{key:t.id},[n("v-list-tile-avatar",[n("v-avatar",{attrs:{slot:"activator",size:"32"},slot:"activator"},[n("img",{attrs:{src:t.avatar_url}})])],1),n("v-list-tile-content",[n("v-list-tile-title",[n("v-tooltip",{attrs:{bottom:""}},[n("a",{staticClass:"mr-1",attrs:{slot:"activator"},on:{click:function(n){e.copySha(t)}},slot:"activator"},[e._v(e._s(t.short_id))]),n("span",[e._v("Click to copy")])]),n("span",[e._v(e._s(t.title))])],1),n("v-list-tile-sub-title",[n("span",{staticClass:"green--text font-weight-medium"},[e._v("+"+e._s(t.stats.additions))]),n("span",{staticClass:"ml-2 red--text font-weight-medium"},[e._v("-"+e._s(t.stats.deletions))])])],1),n("v-list-tile-action")],1)}))]:[n("div",{staticClass:"text-xs-center"},[n("v-progress-circular",{attrs:{indeterminate:""}})],1)]],2)},Rt=[],wt={name:"MergeRequestDetails",props:{mr:Object},data:function(){return{loaded:!1,commits:[]}},methods:{copySha:function(e){var t=this;this.$copyText(e.id).then(function(){return t.$store.dispatch("displaySnackbarMessage","SHA copied")}).catch(function(){})},getCommits:function(){return se.get().client.getCommitsForMergeRequest(this.mr)},getAllCommitsDetails:function(e){var t=this;return Promise.all(e.map(function(e){return t.getCommit({project_id:t.mr.project_id,sha:e.id})}))},getCommit:function(e){var t=this,n=e.project_id,s=e.sha;return se.get().client.getCommit({project_id:n,sha:s}).then(function(e){return t.getAvatarUrl(e).then(function(t){return e.avatar_url=t,e})})},getAvatarUrl:function(e){return se.get().client.getAvatarUrl(e.author_email).then(function(e){return e.avatar_url})}},mounted:function(){var e=this;this.getCommits().then(function(t){return e.getAllCommitsDetails(t)}).then(function(t){e.commits=t}).catch(function(){}).finally(function(){return e.loaded=!0})},components:{}},Tt=wt,Mt=Object(R["a"])(Tt,qt,Rt,!1,null,null,null);Mt.options.__file="MergeRequestDetails.vue";var Ot=Mt.exports,Ct={name:"MergeRequestItem",data:function(){return{showMore:!1,merging:!1,closing:!1}},props:{mr:Object,pipeline:Object},computed:Object(h["a"])({canBeClosed:function(){return"opened"===this.mr.state}},Object(b["b"])({getProject:"getProject"})),methods:{copyLink:function(){var e=this,t="".concat(this.mr.title," - ").concat(this.mr.web_url);this.$copyText(t).then(function(){return e.$store.dispatch("displaySnackbarMessage","Link copied")}).catch(function(){})},merge:function(){var e=this;this.merging=!0,this.$store.dispatch("merge",this.mr).then(function(){}).catch(function(e){console.log(e)}).finally(function(){e.merging=!1})},close:function(){var e=this;this.closing=!0,this.$store.dispatch("closeMergeRequest",this.mr).catch(function(){return e.$store.dispatch("displaySnackbarMessage","Error while closing MR")}).finally(function(){e.closing=!1})}},components:{"user-avatar":ht,pipeline:jt,"merge-request-details":Ot}},xt=Ct,St=(n("39a6"),Object(R["a"])(xt,ut,lt,!1,null,"12d74710",null));St.options.__file="MergeRequestItem.vue";var At=St.exports,$t={name:"MergeRequests",props:{mergeRequests:Array},methods:{getPipeline:function(e){return this.$store.getters.getPipeline(e.id)}},computed:{orderedMergeRequests:function(){return _.a.orderBy(this.mergeRequests,"created_at","desc")}},components:{MergeRequestItem:At}},It=$t,Pt=Object(R["a"])(It,ot,ct,!1,null,null,null);Pt.options.__file="MergeRequests.vue";var Et=Pt.exports,Ut={name:"team",components:{MergeRequests:Et,"user-avatar":ht},computed:Object(h["a"])({},Object(b["c"])(["team"]),Object(b["b"])({mergeRequests:"getMergeRequests",userMergeRequests:"getMergeRequestsForUser"})),beforeRouteEnter:function(e,t,n){Ye.dispatch("loadTeam",e.params.name),n()},beforeRouteUpdate:function(e,t,n){Ye.dispatch("loadTeam",e.params.name),n()}},zt=Ut,Lt=(n("6080"),Object(R["a"])(zt,at,rt,!1,null,"234efe86",null));Lt.options.__file="Team.vue";var Dt=Lt.exports,Bt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"todos"},[n("v-layout",{attrs:{"align-center":"","justify-end":"",row:"","fill-height":"","ma-2":""}},[e.todosSize?n("v-btn",{attrs:{outline:""},on:{click:function(t){e.markAllAsRead()}}},[e._v("\n      Mark all as done\n      "),n("v-icon",{attrs:{right:""}},[e._v("done_all")])],1):e._e()],1),e.todosSize?n("v-list",{attrs:{"two-line":"",dark:""}},[e._l(e.todos,function(t,s){return[n("todo",{key:t.id,attrs:{item:t}}),s+1<e.todos.length?n("v-divider",{key:s}):e._e()]})],2):n("v-layout",{attrs:{"ma-4":""}},[n("v-flex",[n("span",[e._v("Looks like you do not have anything to do...")])])],1)],1)},Ft=[],Gt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list-tile",{attrs:{avatar:"",href:e.item.target_url,target:"_blank"}},[n("v-list-tile-avatar",{on:{click:function(t){t.preventDefault(),e.$router.push({name:"user",params:{name:e.item.author.username}})}}},[n("user-avatar",{attrs:{user:e.item.author}})],1),n("v-list-tile-content",[n("v-list-tile-title",["assigned"===e.item.action_name?["Issue"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" assigned you the issue "+e._s(e.getIssueAsText())+"\n        ")]:e._e(),"MergeRequest"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" assigned you the merge request "+e._s(e.getMergeRequestAsText())+"\n        ")]:e._e()]:e._e(),"mentioned"===e.item.action_name?["Issue"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" mentioned you in the issue "+e._s(e.getIssueAsText())+"\n        ")]:e._e(),"MergeRequest"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" mentioned you the merge request "+e._s(e.getMergeRequestAsText())+"\n        ")]:e._e()]:e._e(),"build_failed"===e.item.action_name?[e._v("\n        Build failed\n      ")]:e._e(),"marked"===e.item.action_name?[e._v("\n        ?\n      ")]:e._e(),"approval_required"===e.item.action_name?["MergeRequest"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" require your approval in merge request "+e._s(e.getMergeRequestAsText())+"\n        ")]:[e._v("\n          ?\n        ")]]:e._e(),"unmergeable"===e.item.action_name?["MergeRequest"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" marked the merge request as unmergeable in "+e._s(e.getMergeRequestAsText())+"\n        ")]:e._e()]:e._e(),"directly_addressed"===e.item.action_name?["Issue"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" directly addressed you in the issue "+e._s(e.getIssueAsText())+"\n        ")]:e._e(),"MergeRequest"===e.item.target_type?[e._v("\n          "+e._s(e.item.author.name||e.item.author.username)+" directly addressed you in the merge request "+e._s(e.getMergeRequestAsText())+"\n        ")]:e._e()]:e._e()],2),n("v-list-tile-sub-title",[n("div",{staticClass:"ellipsis"},[e._v("\n        "+e._s(e._f("moment")(e.item.created_at,"calendar"))+"\n      ")]),n("v-list-tile-sub-title",{staticClass:"ellipsis"},[e._v(e._s(e.item.body))])],1)],1),n("v-list-tile-action",[n("div",{attrs:{id:"actions"}},[n("v-btn",{attrs:{outline:"",fab:"",small:"",dark:""},on:{click:function(t){t.preventDefault(),e.markAsRead()}}},[n("v-icon",[e._v("check")])],1)],1)])],1)},Nt=[],Jt={name:"Todo",props:{item:Object},methods:{markAsRead:function(){this.$store.dispatch("markTodoAsDone",this.item)},getMergeRequestAsText:function(){return"".concat(this.item.project.path,"!").concat(this.item.target.iid)},getIssueAsText:function(){return"".concat(this.item.project.path,"#").concat(this.item.target.iid)}},components:{"user-avatar":ht}},Wt=Jt,Ht=(n("3cf5"),Object(R["a"])(Wt,Gt,Nt,!1,null,"0fe6fbf5",null));Ht.options.__file="Todo.vue";var Yt=Ht.exports,Zt={name:"todos",components:{Todo:Yt},computed:Object(h["a"])({},Object(b["b"])({todos:"getTodos",todosSize:"getTodosSize"})),methods:{markAllAsRead:function(){this.$store.dispatch("markAllTodosAsDone")}}},Vt=Zt,Kt=Object(R["a"])(Vt,Bt,Ft,!1,null,null,null);Kt.options.__file="Todos.vue";var Qt=Kt.exports,Xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"todos"},[e.issuesSize?n("v-list",{attrs:{"two-line":"",dark:""}},[e._l(e.issues,function(t,s){return[n("issue",{key:t.id,attrs:{item:t}}),s+1<e.issues.length?n("v-divider",{key:s}):e._e()]})],2):n("v-layout",{attrs:{"ma-4":""}},[n("v-flex",[n("span",[e._v("Looks like you do not have created any issue...")])])],1)],1)},en=[],tn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-list-tile",{attrs:{avatar:"",href:e.item.web_url,target:"_blank"}},[n("v-list-tile-avatar",{on:{click:function(t){t.preventDefault(),e.$router.push({name:"user",params:{name:e.item.author.username}})}}},[n("user-avatar",{attrs:{user:e.item.author}})],1),n("v-list-tile-content",[n("v-list-tile-title",{attrs:{id:"title"}},[n("span",[e._v(e._s(e.item.title))])]),n("v-list-tile-sub-title",[n("span",{staticClass:"state"},[e._v(e._s(e.getState()))]),e._v(" - Created "+e._s(e._f("moment")(e.item.created_at,"calendar"))+" - Updated "+e._s(e._f("moment")(e.item.updated_at,"calendar"))+"\n    ")]),n("v-list-tile-sub-title",[n("div",{attrs:{id:"subtitle"}},[e._v("\n        "+e._s(e.getProject(e.item.project_id).name)+"#"+e._s(e.item.iid)+"\n        "),e._l(e.item.assignees,function(t){return n("div",{key:t.id,staticClass:"ml-1"},[n("v-tooltip",{attrs:{bottom:""}},[n("v-avatar",{attrs:{slot:"activator",size:"16"},slot:"activator"},[n("img",{attrs:{src:t.avatar_url,alt:t.username}})]),n("span",[e._v("Assigned to "+e._s(t.name))])],1)],1)}),e.item.milestone?n("v-tooltip",{attrs:{bottom:""}},[n("v-chip",{attrs:{slot:"activator",color:"primary",small:"","text-color":"white"},slot:"activator"},[e._v(e._s(e.item.milestone.title))]),n("span",[e._v("Milestone")])],1):e._e(),e._l(e.item.labels,function(t){return n("v-tooltip",{key:t,attrs:{bottom:""}},[n("v-chip",{attrs:{slot:"activator",color:"orange",small:"","text-color":"white"},slot:"activator"},[e._v(e._s(t))]),n("span",[e._v("Label")])],1)})],2)])],1),n("v-list-tile-action",[n("div",{attrs:{id:"actions"}},[n("v-badge",{staticClass:"pr-2",attrs:{overlap:"",left:"",color:"orange"}},[n("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.item.user_notes_count))]),n("v-icon",[e._v("chat")])],1),n("v-badge",{staticClass:"pr-2",attrs:{overlap:"",left:"",color:"orange"}},[n("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.item.upvotes))]),n("v-icon",[e._v("thumb_up")])],1),n("v-badge",{staticClass:"pr-2",attrs:{overlap:"",left:"",color:"orange"}},[n("span",{attrs:{slot:"badge"},slot:"badge"},[e._v(e._s(e.item.downvotes))]),n("v-icon",[e._v("thumb_down")])],1)],1)])],1)},nn=[],sn={opened:"open",closed:"closed"},an={name:"Issue",props:{item:Object},computed:Object(h["a"])({},Object(b["b"])({getProject:"getProject"})),methods:{getState:function(){return sn[this.item.state]}},components:{"user-avatar":ht}},rn=an,on=(n("20ee"),Object(R["a"])(rn,tn,nn,!1,null,"76a82a7a",null));on.options.__file="Issue.vue";var cn=on.exports,un={name:"issues",components:{Issue:cn},computed:Object(h["a"])({},Object(b["b"])({issues:"getIssues",issuesSize:"getIssuesSize"})),methods:{}},ln=un,dn=Object(R["a"])(ln,Xt,en,!1,null,null,null);dn.options.__file="Issues.vue";var mn=dn.exports,vn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[e.mergeRequests.length?n("merge-requests",{attrs:{"merge-requests":e.mergeRequests}}):e._e()],1)},pn=[],fn={name:"user",components:{MergeRequests:Et},computed:Object(h["a"])({},Object(b["b"])({mergeRequests:"getMergeRequests"})),beforeRouteEnter:function(e,t,n){Ye.dispatch("loadUser",e.params.name),n()},beforeRouteUpdate:function(e,t,n){Ye.dispatch("loadUser",e.params.name),n()}},hn=fn,gn=Object(R["a"])(hn,vn,pn,!1,null,null,null);gn.options.__file="User.vue";var _n=gn.exports,bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.loaded?[e.displayComputed&&e.computedMergeRequests.length?n("merge-requests",{attrs:{"merge-requests":e.computedMergeRequests}}):e._e(),!e.displayComputed&&e.mergeRequests.length?n("merge-requests",{attrs:{"merge-requests":e.mergeRequests}}):e._e()]:[n("div",{staticClass:"text-xs-center"},[n("v-progress-circular",{attrs:{indeterminate:""}})],1)]],2)},kn=[],yn={data:function(){return{loaded:!1,displayComputed:!1,mergeRequests:null}},created:function(){this.fetchData()},watch:{$route:"fetchData"},computed:Object(h["a"])({},Object(b["b"])({computedMergeRequests:"getMergeRequests"})),methods:{fetchData:function(){var e=this;this.loaded=!1,this.$route.params.state&&["closed","merged"].includes(this.$route.params.state)?(this.displayComputed=!1,this.mergeRequests=[],se.get().client.fetchMergeRequests({state:this.$route.params.state}).then(function(t){return e.mergeRequests=t.data}).finally(function(){return e.loaded=!0})):(this.loaded=!0,this.displayComputed=!0)}},components:{MergeRequests:Et}},jn=yn,qn=Object(R["a"])(jn,bn,kn,!1,null,null,null);qn.options.__file="MergeRequests.vue";var Rn=qn.exports,wn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pa-3"},[n("v-container",{attrs:{fluid:"","fill-height":""}},[n("v-layout",{attrs:{"align-center":"","justify-center":""}},[n("v-flex",{attrs:{xs12:"",sm8:"",md8:""}},[n("v-card",{staticClass:"elevation-12"},[n("v-toolbar",{attrs:{dark:""}},[n("v-toolbar-title",{staticClass:"white--text"},[e._v("Create a new team")])],1),n("v-card-text",[n("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[n("v-text-field",{attrs:{label:"Name",rules:[function(e){return!!e||"Name is required"}],required:"",autofocus:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),n("v-text-field",{attrs:{label:"Avatar   丑",disabled:"",required:""},model:{value:e.icon,callback:function(t){e.icon=t},expression:"icon"}}),n("v-autocomplete",{attrs:{items:e.items,loading:e.isLoading,"search-input":e.search,chips:"","item-text":"name","item-value":"name",label:"Members",multiple:"","cache-items":"","return-object":""},on:{"update:searchInput":function(t){e.search=t}},scopedSlots:e._u([{key:"selection",fn:function(t){return[n("v-chip",{attrs:{selected:t.selected,close:""},on:{input:function(n){e.remove(t.item,t)}}},[n("v-avatar",[n("img",{attrs:{src:t.item.avatar_url}})]),e._v("\n                  "+e._s(t.item.name)+"\n                  ")],1)]}},{key:"item",fn:function(t){return[n("v-list-tile-avatar",[n("v-avatar",[n("img",{attrs:{src:t.item.avatar_url}})])],1),n("v-list-tile-content",[n("v-list-tile-title",{domProps:{textContent:e._s(t.item.name)}})],1)]}}]),model:{value:e.members,callback:function(t){e.members=t},expression:"members"}},[n("template",{slot:"no-data"},[n("v-list-tile",[n("v-list-tile-title",[e._v("\n                      Search GitLab User...\n                    ")])],1)],1)],2)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{disabled:!e.valid},on:{click:e.create}},[e._v("Create")]),n("v-btn",{on:{click:e.clear}},[e._v("Clear")])],1)],1)],1)],1)],1)],1)},Tn=[],Mn={data:function(){return{valid:!0,name:null,icon:"",members:[],isLoading:!1,items:[],search:null}},methods:{create:function(){if(this.$refs.form.validate()){var e={name:this.name,icon:this.icon,usernames:this.members.map(function(e){return e.username})};this.$store.dispatch("createTeam",e),this.$router.push({name:"team",params:{name:e.name}})}},clear:function(){this.$refs.form.reset()},remove:function(e){var t=this.members.findIndex(function(t){return t.id===e.id});t>=0&&this.members.splice(t,1)}},watch:{search:function(e){var t=this;e&&null!==e&&(this.isLoading=!0,se.get().client.searchUsers(e).then(function(e){return t.items=e.data}).catch(console.log).finally(function(){return t.isLoading=!1}))}}},On=Mn,Cn=Object(R["a"])(On,wn,Tn,!1,null,null,null);Cn.options.__file="CreateTeam.vue";var xn=Cn.exports;v["default"].use(S["a"]);var Sn=new S["a"]({base:"/gitlab-teams/",routes:[{path:"/",component:Qe,children:[{path:"",name:"home",component:Rn},{path:"/mrs/:state",name:"home.others",component:Rn}]},{path:"/todo",name:"todo",component:Qt},{path:"/issues",name:"issues",component:mn},{path:"/team/:name",name:"team",component:Dt},{path:"/user/:name",name:"user",component:_n},{path:"/settings",name:"settings",component:it},{path:"/settings/team/create",name:"create-team",component:xn},{path:"/about",name:"about",component:function(){return n.e("about").then(n.bind(null,"f820"))}}]}),An=n("c0a4"),$n=n.n(An),In={primary:$n.a.orange},Pn=In;v["default"].config.productionTip=!1,v["default"].use(c.a,{theme:Pn}),v["default"].use(r.a),v["default"].use(m.a),v["default"].use(l.a,{id:"UA-130186625-1",router:Sn}),se.init(Ye),new v["default"]({router:Sn,store:Ye,render:function(e){return e(x)}}).$mount("#app")},6080:function(e,t,n){"use strict";var s=n("1646"),i=n.n(s);i.a},7178:function(e,t,n){},a5e0:function(e,t,n){},da8f:function(e,t,n){},e9e5:function(e,t,n){"use strict";var s=n("7178"),i=n.n(s);i.a}});
//# sourceMappingURL=app.ba989e64.js.map